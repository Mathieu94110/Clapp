<ion-content class="ion-padding">
  <div class="content-wrapper">
    <ion-grid
      style="display: flex; flex-direction: column; justify-content: center"
    >
      <ion-row>
        <ion-col
          size-xs="12"
          size-m="6"
          size-l="6"
          size-xl="6"
          class="ion-text-center"
        >
          <div style="width: 400px">
            <div
              class="accordion-container"
              [ngClass]="isRecommandationListItemOpened ? 'open' : ''"
            >
              <h1>
                Recommandations de vins
                <div
                  class="arrow"
                  (click)="wineRecommandationToggleAccordion()"
                ></div>
              </h1>
              <form
                class="content"
                [formGroup]="wineForm"
                (ngSubmit)="submitForm()"
                novalidate
              >
                <ion-item lines="full">
                  <ion-label position="floating">Vin</ion-label>
                  <ion-input
                    formControlName="wine"
                    type="text"
                    required
                  ></ion-input>
                </ion-item>

                <ion-item lines="full">
                  <ion-label position="floating">Quantité</ion-label>
                  <ion-input
                    formControlName="quantity"
                    type="text"
                    required
                  ></ion-input>
                </ion-item>

                <ion-item lines="full">
                  <ion-label position="floating">Note minimale</ion-label>
                  <ion-input
                    formControlName="minRating"
                    type="text"
                    required
                  ></ion-input>
                </ion-item>

                <ion-item lines="full">
                  <ion-label position="floating">Prix maximum</ion-label>
                  <ion-input
                    formControlName="maxPrice"
                    type="text"
                    required
                  ></ion-input>
                </ion-item>
                <ion-row>
                  <ion-col>
                    <ion-button type="submit" color="danger" expand="block"
                      >Submit</ion-button
                    >
                  </ion-col>
                </ion-row>
              </form>
            </div>
          </div>
          <div style="width: 400px">
            <div
              class="accordion-container"
              [ngClass]="isDescriptionListItemOpened ? 'open' : ''"
            >
              <h1>
                Description de vins
                <div
                  class="arrow"
                  (click)="wineDescriptionToggleAccordion()"
                ></div>
              </h1>

              <form class="content">
                <ion-item lines="full">
                  <ion-label position="floating">Vin</ion-label>
                  <ion-input type="text" required></ion-input>
                </ion-item>
                <ion-col>
                  <ion-button type="submit" color="danger" expand="block"
                    >Submit</ion-button
                  >
                </ion-col>
              </form>
            </div>
          </div>
          <div style="width: 400px">
            <div
              class="accordion-container"
              (click)="wineAssociateToggleAccordion()"
              [ngClass]="isWineToAssociateListItemOpened ? 'open' : ''"
            >
              <h1>
                Vins à associer
                <div
                  class="arrow"
                  (click)="winesToAssociateToggleAccordion()"
                ></div>
              </h1>

              <form class="content">
                <ion-item lines="full">
                  <ion-label position="floating">Plat</ion-label>
                  <ion-input type="text" required></ion-input>
                </ion-item>
                <ion-item lines="full">
                  <ion-label position="floating">Prix maximum</ion-label>
                  <ion-input type="text" required></ion-input>
                </ion-item>
                <ion-col>
                  <ion-button type="submit" color="danger" expand="block"
                    >Submit</ion-button
                  >
                </ion-col>
              </form>
            </div>
          </div>
        </ion-col>
        <ion-col
          size-xs="12"
          size-m="6"
          size-l="6"
          size-xl="6"
          class="ion-text-center"
        >
          <swiper
            *ngIf="winesRecommandation.length > 2"
            #swiper
            [slidesPerView]="1"
            [spaceBetween]="50"
            [virtual]="true"
            [pagination]="true"
            (slideChange)="swiperSlideChanged($event)"
            [allowTouchMove]="false"
            style="width: 600px; height: 800px; background-color: coral"
          >
            <ng-template
              swiperSlide
              *ngFor="
                let wine of winesRecommandation.recommendedWines;
                index as i
              "
            >
              <ion-card style="width: 300px" class="ion-text-center">
                <img [src]="wine.imageUrl" class="ion-padding" />
                <ion-card-header>
                  <ion-card-subtitle>{{ wine.score }} / 10</ion-card-subtitle>
                  <ion-card-title>{{ wine.title }}</ion-card-title>
                </ion-card-header>
                <ion-card-content>
                  <ion-text *ngIf="wine.description">
                    {{ wine.description }}
                  </ion-text>

                  <ion-item
                    href="{{ wine.link }}"
                    target="_blank"
                    color="primary"
                    class="ion-text-center"
                    lines="none"
                  >
                    <ion-label> Détails </ion-label>
                  </ion-item>
                </ion-card-content>
              </ion-card>
            </ng-template>
            <ion-row>
              <ion-button expand="full" (click)="prev()">
                <ion-icon name="arrow-back-circle-outline"></ion-icon>
              </ion-button>
              <ion-button expand="full" (click)="toggleTouch()">
                <ion-icon name="lock-open-outline"></ion-icon>
              </ion-button>
              <ion-button expand="full" (click)="next()">
                <ion-icon name="arrow-forward-circle-outline"></ion-icon>
              </ion-button>
            </ion-row>
          </swiper>
        </ion-col>
      </ion-row>
    </ion-grid>
  </div>
</ion-content>
