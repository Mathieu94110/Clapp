<app-mobile-menu></app-mobile-menu>

<ion-content>
  <div *ngIf="getScreenWidth >= 767;else mobileScreen">
    <ion-toolbar class="page-title">
      <ion-title class="ion-text-uppercase">Chercher une recette</ion-title>
      <p class="description-text-container">
        <ion-text>
          Retrouvez-ici tous les recettes. Vous pouvez ensuite accéder aux
          détails, pour savoir tout ce que vous avez besoin pour réussir vos
          préparations
        </ion-text>
      </p>
    </ion-toolbar>

    <ion-searchbar
      placeholder="Rechercher"
      (ionChange)="search($event)"
    ></ion-searchbar>
    <!-- <div style="width: 500px; height: 600px">{{recipes |json}}</div> -->

    <ion-grid class="desktop-screen-items" *ngFor="let recipe of recipes">
      <ion-row class="list-label-keys-margin">
        <ion-col class="list-label ion-text-uppercase">Id:</ion-col>
        <ion-col class="list-label ion-text-uppercase"> Titre: </ion-col>
      </ion-row>
      <div>
        <ion-row>
          <ion-col class="list-label"> {{ recipe.id }} </ion-col>
          <ion-col class="list-label"> {{ recipe.title }} </ion-col>
          <!-- <ion-col
            ><img [src]="recip.image" width="200px" height="200px"
          /></ion-col> -->
        </ion-row>
      </div>
    </ion-grid>
  </div>
  <ng-template #mobileScreen>
    <ion-toolbar class="mobile-page-title">
      <ion-title class="ion-text-uppercase">Mes défibrillateurs</ion-title>

      <ion-text>
        Retrouvez-ici tous vos défibrillateurs. Vous pouvez voir s'ils sont
        fonctionnels, s'ils nécessitent de la maintenance, et en rechercher en
        particulier
      </ion-text>
    </ion-toolbar>

    <ion-searchbar
      placeholder="Rechercher"
      (ionChange)="search($event)"
    ></ion-searchbar>
    <div style="width: 500px; height: 600px">{{recipes |json}}</div>
    <!-- <div *ngIf="(customers | filter: searchText).length > 0">
      <ion-list
        *ngFor="let item of customers | filter: searchText; let i = index"
        class="accordion-list"
        lines="none"
        detail="false"
      >
        <ion-item>
          <ion-grid
            [ngClass]="{'full-mobile-items': item.open,
                 'default-mobile-items': !item.open}"
          >
            <ion-col>
              <ion-row class="mobile-serial-row">
                <ion-col size="9" class="vertical-center">
                  <ion-label class="lato-bold mobile-item-serial"
                    >{{item.serial}}
                  </ion-label>
                </ion-col>
                <ion-col size="3" class="vertical-center">
                  <img
                    class="state-icon ion-align-self-end"
                    src="{{item.state === '2' ? '../../../assets/icon/danger-state-icon.png' : item.state === '1'  ?  '../../../assets/icon/warning-state-icon.png' : '../../../assets/icon/working-state-icon.png'}}"
                  />
                </ion-col>
              </ion-row>
              <ion-row class="mobile-location-row">
                <ion-col size="9">
                  <ion-label class="location-labels lato-black"
                    >{{item.locationName}}</ion-label
                  >
                  <ion-label class="location-labels lato-regular"
                    >{{item.locationAddr}}</ion-label
                  >
                </ion-col>
                <ion-col size="3" class="ion-text-end">
                  <ion-icon
                    class="arrow-icon"
                    (click)="toggleSection(i)"
                    name="{{!item.open ? 'chevron-down-outline' : 'chevron-up-outline'}}"
                    color="primary"
                  ></ion-icon>
                </ion-col>
              </ion-row>
            </ion-col>
            <ion-col *ngIf="item.open">
              <ion-grid class="sub-item">
                <ion-row class="mobile-sub-item-row mobile-place-row">
                  <ion-label
                    class="ion-text-uppercase lato-bold mobile-place-label-key"
                    >Emplacement</ion-label
                  >
                  <ion-label class="lato-regular mobile-place-label-value"
                    >{{item.place}}</ion-label
                  >
                </ion-row>
                <ion-row class="mobile-sub-item-row mobile-electrodes-row">
                  <ion-label
                    class="
                      ion-text-uppercase
                      lato-bold
                      mobile-electrodes-label-key
                    "
                    >Date de péremption des électrodes</ion-label
                  >
                  <ion-label class="lato-regular mobile-electrodes-label-value"
                    >{{item.electrodesExpiry}}</ion-label
                  >
                </ion-row>
              </ion-grid>
            </ion-col>
          </ion-grid>
        </ion-item>
      </ion-list>
    </div> -->
  </ng-template>
</ion-content>
